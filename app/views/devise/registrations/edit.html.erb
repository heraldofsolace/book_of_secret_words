<h2 class="text-3xl font-semibold mb-8 bg-gradient-to-r from-rose-400 to-red-400 bg-clip-text text-transparent">
  Edit <%= resource_name.to_s.humanize %>
</h2>

<%= form_for(
      resource,
      as: resource_name,
      url: registration_path(resource_name),
      html: { method: :put, class: "space-y-6 max-w-md" }
    ) do |f| %>

  <%= render "devise/shared/error_messages", resource: resource %>

  <!-- Email -->
  <div class="flex flex-col space-y-1">
    <%= f.label :email, class: "text-sm font-medium text-slate-300" %>
    <%= f.email_field :email,
                      autofocus: true,
                      autocomplete: "email",
                      class: "rounded-xl bg-slate-800/50 border border-slate-700 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/30 outline-none transition" %>
  </div>

  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
    <div class="rounded-lg border border-amber-500/40 bg-amber-500/10 px-3 py-2 text-xs text-amber-200">
      Currently waiting confirmation for:
      <span class="font-semibold"><%= resource.unconfirmed_email %></span>
    </div>
  <% end %>

  <!-- Password -->
  <div class="flex flex-col space-y-1">
    <div class="flex items-center justify-between">
      <%= f.label :password, class: "text-sm font-medium text-slate-300" %>
      <span class="text-[11px] text-slate-500">
        leave blank if you don't want to change it
      </span>
    </div>
    <%= f.password_field :password,
                         autocomplete: "new-password",
                         class: "rounded-xl bg-slate-800/50 border border-slate-700 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/30 outline-none transition" %>
    <% if @minimum_password_length %>
      <span class="text-[11px] text-slate-500">
        <%= @minimum_password_length %> characters minimum
      </span>
    <% end %>
  </div>

  <!-- Password confirmation -->
  <div class="flex flex-col space-y-1">
    <%= f.label :password_confirmation, class: "text-sm font-medium text-slate-300" %>
    <%= f.password_field :password_confirmation,
                         autocomplete: "new-password",
                         class: "rounded-xl bg-slate-800/50 border border-slate-700 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/30 outline-none transition" %>
  </div>

  <!-- Current password -->
  <div class="flex flex-col space-y-1">
    <div class="flex items-center justify-between">
      <%= f.label :current_password, class: "text-sm font-medium text-slate-300" %>
      <span class="text-[11px] text-slate-500">
        we need your current password to confirm changes
      </span>
    </div>
    <%= f.password_field :current_password,
                         autocomplete: "current-password",
                         class: "rounded-xl bg-slate-800/50 border border-slate-700 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/30 outline-none transition" %>
  </div>

  <!-- Username -->
  <div class="flex flex-col space-y-1">
    <%= f.label :username, class: "text-sm font-medium text-slate-300" %>
    <%= f.text_field :username,
                     class: "rounded-xl bg-slate-800/50 border border-slate-700 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/30 outline-none transition" %>
  </div>

  <!-- Update button -->
  <div class="pt-2">
    <%= f.submit "Update",
                 class: "w-full sm:w-auto rounded-xl bg-gradient-to-r from-red-500 to-rose-500 py-3 px-6 font-semibold text-white shadow-lg shadow-red-500/30 transition hover:brightness-110 cursor-pointer" %>
  </div>

<% end %>

<!-- Danger zone -->
<div class="mt-10 max-w-md space-y-3 border-t border-slate-800 pt-6">
  <h3 class="text-sm font-semibold text-slate-200">
    Cancel my account
  </h3>
  <p class="text-xs text-slate-500">
    Unhappy? This will permanently delete your account and all associated messages.
  </p>

  <div class="flex flex-wrap items-center gap-3">
    <%= button_to "Cancel my account",
                  registration_path(resource_name),
                  method: :delete,
                  data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" },
                  class: "inline-flex items-center justify-center rounded-xl border border-red-600/60 bg-red-600/10 px-4 py-2 text-xs font-semibold text-red-200 hover:bg-red-600/20 hover:border-red-500 transition shadow-sm shadow-red-900/40" %>

    <%= link_to "Back",
                :back,
                class: "text-xs text-slate-400 hover:text-slate-200 underline underline-offset-2 decoration-slate-600 hover:decoration-rose-400 transition" %>
  </div>
</div>
